# ==============================================================================
# GuessLyfe Backend - Development Environment
# ==============================================================================
#
# This file contains default values for local development.
# Override values in .env.local (gitignored) for your personal configuration.
#
# ==============================================================================

# ------------------------------------------------------------------------------
# Application
# ------------------------------------------------------------------------------
NODE_ENV=development
APP_VERSION=1.0.0-dev
PORT=3000
API_PREFIX=api/v1
APP_NAME=guesslyfe-backend-dev

# ------------------------------------------------------------------------------
# Frontend URLs
# ------------------------------------------------------------------------------
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000
CORS_CREDENTIALS=true
FRONTEND_URL=http://localhost:3001
ADMIN_DASHBOARD_URL=http://localhost:3000/admin

# ------------------------------------------------------------------------------
# Database (Local PostgreSQL)
# ------------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_DATABASE=guessly
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_LOGGING=true
DB_SYNCHRONIZE=false
DB_SSL_MODE=disable
LOG_QUERIES=false

# ------------------------------------------------------------------------------
# Redis (Local)
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TIMEOUT=5000
REDIS_PREFIX=guesslyfe:dev:
REDIS_CACHE_TTL=3600

# ------------------------------------------------------------------------------
# Bull Queue
# ------------------------------------------------------------------------------
BULL_REDIS_HOST=localhost
BULL_REDIS_PORT=6379
BULL_REDIS_DB=1
BULL_REDIS_PASSWORD=
QUEUE_NOTIFICATION_CONCURRENCY=5
QUEUE_BLOCKCHAIN_CONCURRENCY=3
QUEUE_EMAIL_CONCURRENCY=5
QUEUE_MAX_RETRY_ATTEMPTS=3
QUEUE_RETRY_BACKOFF_MS=5000
QUEUE_MONITOR_ENABLED=true
QUEUE_MONITOR_PATH=/admin/queues

# ------------------------------------------------------------------------------
# JWT Authentication
# ------------------------------------------------------------------------------
JWT_SECRET=dev-secret-change-this-in-production
JWT_EXPIRATION=7d
JWT_REFRESH_SECRET=dev-refresh-secret-change-this
JWT_REFRESH_EXPIRATION=30d
JWT_ISSUER=guesslyfe.local
JWT_AUDIENCE=guesslyfe-api-dev

# ------------------------------------------------------------------------------
# Blockchain (Base Sepolia Testnet)
# ------------------------------------------------------------------------------
BLOCKCHAIN_NETWORK=baseSepolia
BLOCKCHAIN_RPC_URL=https://sepolia.base.org
BLOCKCHAIN_RPC_URL_FALLBACK=
BLOCKCHAIN_CHAIN_ID=84532
BLOCKCHAIN_RPC_TIMEOUT=30000
BLOCKCHAIN_PROVIDER_PRIVATE_KEY=
BLOCKCHAIN_GAS_LIMIT=500000
BLOCKCHAIN_GAS_PRICE_MULTIPLIER=1.1
BLOCKCHAIN_CONFIRMATIONS=1
BLOCKCHAIN_INDEXING_ENABLED=true
BLOCKCHAIN_INDEXING_START_BLOCK=0

# ------------------------------------------------------------------------------
# Smart Contracts (Base Sepolia)
# ------------------------------------------------------------------------------
CONTRACT_USDC=0x036CbD53842c5426634e7929541eC2318f3dCF7e
CONTRACT_FEE_COLLECTOR=0x9E0e83E0569d42a3A0420F68fe4D967F4C10F423
CONTRACT_CREATOR_SHARE_FACTORY=0xaE86eC369E33A74769Ef7A1609b76E84B417c5Db
CONTRACT_OPINION_MARKET=0x9cC5bBBceb80bE28f9be3F7dd69dC815Ba64099C
CONTRACT_OPINION_MARKET_FACTORY=
CONTRACT_OPINION_MARKET_IMPLEMENTATION=

# ------------------------------------------------------------------------------
# Twitter API (Development - use test credentials)
# ------------------------------------------------------------------------------
TWITTER_CLIENT_ID=
TWITTER_CLIENT_SECRET=
TWITTER_BEARER_TOKEN=
TWITTER_CALLBACK_URL=http://localhost:3000/api/v1/auth/twitter/callback
TWITTER_RATE_LIMIT_BUFFER=100

# ------------------------------------------------------------------------------
# Email (SendGrid - use test mode or disable)
# ------------------------------------------------------------------------------
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=dev@guesslyfe.local
SENDGRID_FROM_NAME=GuessLyfe Dev
SENDGRID_TEMPLATE_WELCOME=
SENDGRID_TEMPLATE_TRADE_CONFIRMATION=
SENDGRID_TEMPLATE_MARKET_RESOLVED=
SENDGRID_TEMPLATE_PASSWORD_RESET=

# ------------------------------------------------------------------------------
# Firebase (Optional for dev)
# ------------------------------------------------------------------------------
FCM_SERVER_KEY=
FCM_PROJECT_ID=

# ------------------------------------------------------------------------------
# Error Tracking (Sentry - disabled in dev)
# ------------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENABLED=false
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0
SENTRY_DEBUG=true

# ------------------------------------------------------------------------------
# GCP (Not used in local development)
# ------------------------------------------------------------------------------
GCP_PROJECT_ID=
GCP_REGION=us-central1
GCP_SERVICE_ACCOUNT_KEY_PATH=
GCP_STORAGE_BUCKET=
GCP_LOGGING_ENABLED=false

# ------------------------------------------------------------------------------
# Rate Limiting (Relaxed for development)
# ------------------------------------------------------------------------------
THROTTLE_TTL=60
THROTTLE_LIMIT=1000
RATE_LIMIT_AUTH_TTL=60000
RATE_LIMIT_AUTH_LIMIT=100
RATE_LIMIT_CREATE_MARKET_TTL=3600000
RATE_LIMIT_CREATE_MARKET_LIMIT=1000
RATE_LIMIT_TRADE_TTL=60000
RATE_LIMIT_TRADE_LIMIT=1000
RATE_LIMIT_WHITELIST_IPS=127.0.0.1,::1

# ------------------------------------------------------------------------------
# Security
# ------------------------------------------------------------------------------
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=false
CSP_MODE=none
CSRF_ENABLED=false
TRUSTED_PROXY_IPS=127.0.0.1,::1
ADMIN_API_KEY=dev-admin-key
API_KEY_AUTH_ENABLED=false
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# ------------------------------------------------------------------------------
# File Upload
# ------------------------------------------------------------------------------
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp
UPLOAD_DESTINATION=./uploads
UPLOAD_PATH=./uploads

# ------------------------------------------------------------------------------
# Logging (Verbose in development)
# ------------------------------------------------------------------------------
LOG_LEVEL=debug
LOG_TO_CONSOLE=true
LOG_TO_FILE=false
LOG_FILE_DIR=./logs
LOG_FILE_MAX_SIZE=20m
LOG_FILE_MAX_FILES=14d
LOG_GCP_ENABLED=false
LOG_REQUESTS=true

# ------------------------------------------------------------------------------
# Monitoring
# ------------------------------------------------------------------------------
METRICS_ENABLED=true
METRICS_PATH=/metrics
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000
PERFORMANCE_MONITORING_ENABLED=true
SLOW_REQUEST_THRESHOLD=2000
SLOW_ENDPOINT_THRESHOLD_MS=1000

# ------------------------------------------------------------------------------
# Swagger (Enabled in development)
# ------------------------------------------------------------------------------
SWAGGER_ENABLED=true
SWAGGER_PATH=/api/docs
SWAGGER_TITLE=GuessLyfe API (Development)
SWAGGER_DESCRIPTION=GuessLyfe Prediction Market Platform API - Development Environment
SWAGGER_VERSION=1.0.0-dev

# ------------------------------------------------------------------------------
# Cron Jobs (Can be disabled in dev)
# ------------------------------------------------------------------------------
CRON_ENABLED=false
CRON_MARKET_RESOLUTION=*/5 * * * *
CRON_NOTIFICATION_PROCESSING=* * * * *
CRON_DAILY_STATS=0 0 * * *
CRON_CLEANUP=0 2 * * 0

# ------------------------------------------------------------------------------
# Feature Flags (All enabled in development)
# ------------------------------------------------------------------------------
FEATURE_MARKET_CREATION=true
FEATURE_TRADING=true
FEATURE_SOCIAL=true
FEATURE_NOTIFICATIONS=true
FEATURE_REFERRALS=true
BETA_FEATURES_ENABLED=true

# ------------------------------------------------------------------------------
# Development Tools
# ------------------------------------------------------------------------------
HOT_RELOAD=true
DEBUG=true
SEED_DATABASE=false
MOCK_EXTERNAL_SERVICES=false

# ------------------------------------------------------------------------------
# Performance
# ------------------------------------------------------------------------------
COMPRESSION_ENABLED=false
COMPRESSION_LEVEL=6
CACHE_ENABLED=true
CACHE_TTL=300
QUERY_CACHE_ENABLED=false
QUERY_CACHE_TTL=60

# ------------------------------------------------------------------------------
# Alerts (Disabled in development)
# ------------------------------------------------------------------------------
SLACK_WEBHOOK_URL=
SLACK_ALERT_CHANNEL=#dev-alerts
DISCORD_WEBHOOK_URL=
ALERT_WEBHOOK_URL=

# ------------------------------------------------------------------------------
# Maintenance
# ------------------------------------------------------------------------------
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=
MAINTENANCE_ALLOWED_IPS=127.0.0.1

# ------------------------------------------------------------------------------
# Localization
# ------------------------------------------------------------------------------
DEFAULT_LOCALE=en
SUPPORTED_LOCALES=en
TIMEZONE=UTC

# ------------------------------------------------------------------------------
# Business Logic
# ------------------------------------------------------------------------------
MIN_MARKET_DURATION_HOURS=1
MAX_MARKET_DURATION_DAYS=365
PLATFORM_FEE_PERCENTAGE=2.5
MIN_TRADE_AMOUNT=1000000000000000
MAX_TRADE_AMOUNT=1000000000000000000000
MARKET_VERIFICATION_ENABLED=false
CREATOR_REPUTATION_THRESHOLD=0

# ------------------------------------------------------------------------------
# Testing
# ------------------------------------------------------------------------------
TEST_DB_DATABASE=guesslyfe_test
TEST_MODE=false

# ------------------------------------------------------------------------------
# Compliance
# ------------------------------------------------------------------------------
GDPR_ENABLED=false
DATA_RETENTION_DAYS=365
USER_DATA_EXPORT_ENABLED=false
COOKIE_CONSENT_ENABLED=false
